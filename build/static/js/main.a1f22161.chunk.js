(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),o=n.n(c),u=n(20),i=n(31),s=n(40),f=n(26),l=n(38),p=n(70),d=n(80),h=n(25),b=n(60),y=n(107),m=n(111),g=(n(98),Object(b.a)(function(){return Promise.all([n.e(0),n.e(5),n.e(1),n.e(6)]).then(n.bind(null,404))})),x=[{path:"/",component:Object(b.a)(function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,406))})},{path:"/editor",component:g},{path:"/list",component:Object(b.a)(function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,405))})}],v=function(){return a.a.createElement(d.a,null,a.a.createElement(h.a,{render:function(e){var t=e.location;return a.a.createElement(y.a,{className:"container"},a.a.createElement(m.a,{key:t.pathname,classNames:"fade",timeout:300,appear:!0,onExit:function(){return console.log(123)}},a.a.createElement(h.c,{location:t},x.map(function(e,t){return a.a.createElement(h.a,{exact:!0,path:e.path,key:t,component:e.component})}))))}}))},j=(n(100),n(101),n(102),n(21)),k=n(22),O=n(24),w=n(9),C=n(18),E={index:0,categorys:[]},_=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0,r=t.categorys,a=t.index;switch(n.type){case w.f:return{index:a,categorys:n.payload.categorys};case w.c:return e=r.concat(n.payload.categorys),C.a.categorys.set(e),{index:a,categorys:e};case w.b:var c=(e=[].concat(Object(O.a)(r),[n.payload.category])).length-1;return C.a.categorys.set(e),{index:c,categorys:e};case w.d:return{index:a,categorys:e=r.map(function(e){return e.ulid===n.payload.ulid?Object(k.a)({},e,{cards:[].concat(Object(O.a)(e.cards),[n.payload.card])}):e})};case w.a:return{index:n.payload.index,categorys:r};default:return t}},A=Object(j.c)({category:_}),I=n(110),T=n(112),B=n(58),D=n(109),L=n(53),N=n(84),P=n(69),R=n(76),U=[function(e){return e.pipe(Object(N.a)(w.e),Object(D.a)(function(){return Object(B.a)(R.a.getListFromLocal()).pipe(Object(L.a)(P.d))}))}],V=Object(I.a)(),F=T.a.apply(void 0,Object(O.a)(U)),J=V,W=[J],q=Object(j.e)(A,{},Object(j.d)(j.a.apply(void 0,W)));console.log(q),J.run(F);var z=q,G=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(p.a,{store:z},a.a.createElement("main",{className:"theme__black app__container"},a.a.createElement("div",{className:"router__container"},a.a.createElement(v,null))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=n(30);n(104),n(105);H.a.configure({position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastClassName:"toast_container"}),o.a.render(a.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},18:function(e,t,n){"use strict";var r=n(3),a=n.n(r),c=n(6),o=n(20),u=n(31),i=n(39),s=n.n(i),f=function(){function e(t,n){Object(o.a)(this,e),this.name=void 0,this.defaultValue=void 0,this.name=t,this.defaultValue=n}return Object(u.a)(e,[{key:"get",value:function(){var e=Object(c.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.getItem(this.name);case 3:null!==(t=e.sent)&&void 0!==t||(t=this.defaultValue),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t=this.defaultValue;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,s.a.setItem(this.name,t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a={categorys:new f("categorys",[])}},69:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return i});var r=n(29),a=n(9),c=function(){return Object(r.action)(a.e)},o=function(e){return Object(r.action)(a.f,{categorys:e})},u=function(e){return Object(r.action)(a.b,{category:e})},i=function(e){return Object(r.action)(a.a,{index:e})}},71:function(e,t,n){"use strict";var r=n(22),a=n(3),c=n.n(a),o=n(6),u=n(82),i=n(39),s=n.n(i),f=n(30),l=u.a.create({prefixUrl:"http://120.78.137.84/api/",hooks:{beforeRequest:[function(){var e=Object(o.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getItem("token");case 2:n=e.sent,t.headers.set("Authorization","Bearer ".concat(n)),console.log(t);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()],afterResponse:[function(){var e=Object(o.a)(c.a.mark(function e(t){var n,r,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),n=t.ok,r=t.status,!n){e.next=19;break}if(200!==r){e.next=16;break}return e.next=6,t.json();case 6:if("000000"!==(a=e.sent).code){e.next=13;break}return console.log(a),console.log(a instanceof Response),e.abrupt("return",a);case 13:throw a;case 14:e.next=17;break;case 16:f.a.error("\u7cfb\u7edf\u5f02\u5e38");case 17:e.next=21;break;case 19:401===r&&Object(f.a)("\u767b\u5f55\u5931\u6548\uff0c\u91cd\u65b0\u767b\u5f55\uff01",{onClick:function(){window.location.href=""}}),f.a.error("\u7cfb\u7edf\u5f02\u5e38");case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()]},timeout:3e3,retry:1});t.a={createCard:function(e){return l.post("card",{json:e})},findCard:function(e){return l.get("card",{searchParams:Object(r.a)({},e)})},findCards:function(e){var t={};return e&&(t={searchParams:Object(r.a)({},e)}),l.get("cards",t)},syncCategory:function(e){return l.post("category/sync",{json:e})},getCategorys:function(){return l.get("categorys")},login:function(e){return l.post("auth/login",{json:e})},signin:function(e){return l.post("auth/signin",{json:e})}}},76:function(e,t,n){"use strict";var r=n(3),a=n.n(r),c=n(6),o=n(18),u=n(71);function i(){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.categorys.get();case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:if(n=e.sent,!((r=n.findIndex(function(e){return e.ulid===t}))>-1)){e.next=9;break}return n.splice(r,1),e.next=8,o.a.categorys.set(n);case 8:return e.abrupt("return",n);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:if(n=e.sent,!(r=n.find(function(e){return e.ulid===t}))){e.next=8;break}return r.cards=[],e.next=8,o.a.categorys.set(n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e,t,n){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(a.a.mark(function e(t,n,r){var c,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r,r){e.next=5;break}return e.next=4,i();case 4:c=e.sent;case 5:if(!c){e.next=11;break}if(!((u=c.findIndex(function(e){return e.ulid===t}))>-1)){e.next=11;break}return c[u]=n,e.next=11,o.a.categorys.set(c);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=Object(c.a)(a.a.mark(function e(t){var n,r,c,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:if(n=e.sent,!(r=n.find(function(e){return e.ulid===t}))){e.next=15;break}return e.next=7,u.a.syncCategory(r);case 7:return c=e.sent,e.next=10,c.json();case 10:if(o=e.sent,!(s=o.data)){e.next=15;break}return e.next=15,p(t,s,n);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark(function e(t,n){var r,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:if(r=e.sent,!(c=r.find(function(e){return e.ulid===t}))){e.next=10;break}return c.cards.push(n),e.next=8,o.a.categorys.set(r);case 8:e.next=11;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.a={getListFromLocal:i,removeLocalByUlid:function(e){return f.apply(this,arguments)},removeCardsByUlid:function(e){return l.apply(this,arguments)},syncCardsByUlid:function(e){return h.apply(this,arguments)},addCardByUlid:function(e,t){return b.apply(this,arguments)}}},88:function(e,t,n){e.exports=n(106)},9:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return o}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return i});var r="CATE_ADD",a="CATE_ADD_ARR",c="CATE_GET_LOCAL",o="CATE_INIT",u="CATE_ACTIVE",i="CATE_ADD_CARD"},98:function(e,t,n){}},[[88,3,4]]]);
//# sourceMappingURL=main.a1f22161.chunk.js.map