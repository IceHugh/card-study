(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{364:function(n,e,t){"use strict";t.r(e);var r=t(91),a=t(62),c=t.n(a),u=t(63),i=t(64),o=t(60),s=t(0),f=t.n(s),l=t(61),p=t(65),d=t.n(p),b=t(72),h=t(71),v=t(17);function x(){var n=Object(o.a)(["\n  border-top-left-radius: 10px;\n  height: 100%;\n  width: ",";\n  overflow: hidden;\n  transform: ",";\n  transition: transform 0.5s;\n"]);return x=function(){return n},n}function m(){var n=Object(o.a)(["\n  margin: 0 100px;\n"]);return m=function(){return n},n}function w(){var n=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n"]);return w=function(){return n},n}function y(){var n=Object(o.a)(["\n  grid-area: d;\n  border-left: 2px solid var(--color-3);\n  border-top: 2px solid var(--color-3);\n  box-shadow: 0 0 10px 0 var(--color-3) inset;\n  border-top-left-radius: 10px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n"]);return y=function(){return n},n}function g(){var n=Object(o.a)(["\n  width: 100%;\n  min-height: 100%;\n  min-width: 100%;\n  grid-area: c;\n"]);return g=function(){return n},n}function j(){var n=Object(o.a)(["\n  grid-area: b;\n  border-left: 2px solid var(--color-3);\n  border-bottom: 2px solid var(--color-3);\n  box-shadow: 0 0 10px 0 var(--color-3) inset;\n  border-bottom-left-radius: 10px;\n  overflow: hidden;\n  display: flex;\n"]);return j=function(){return n},n}function O(){var n=Object(o.a)(["\n  grid-area: a;\n"]);return O=function(){return n},n}function k(){var n=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n  grid-template-columns: 200px 1fr;\n  grid-template-rows: ",";\n  grid-template-areas: 'a b' 'a c' 'a d';\n  transition: all 2s;\n"]);return k=function(){return n},n}function E(){var n=Object(o.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: #000;\n  position: relative;\n"]);return E=function(){return n},n}var S=l.a.main(E()),I=l.a.div(k(),function(n){return n.show?"120px 1fr 120px":"1fr 300px 1fr"}),C=l.a.div(O()),L=l.a.div(j()),B=l.a.div(g()),U=l.a.div(y()),F=l.a.div(w()),H=l.a.div(m()),J=l.a.div(x(),function(n){return n.show?"300px":"0"},function(n){return n.show?"translateX(0)":"translateX(-120%)"});e.default=function(n){var e=n.history,t=Object(s.useState)(),a=Object(i.a)(t,2),o=a[0],l=a[1],p=Object(s.useState)(),x=Object(i.a)(p,2),m=x[0],w=x[1],y=Object(s.useState)(!1),g=Object(i.a)(y,2),j=g[0],O=g[1],k=Object(s.useState)(-1),E=Object(i.a)(k,2),X=E[0],D=E[1],q=Object(s.useState)([]),z=Object(i.a)(q,2),A=z[0],G=z[1],K=Object(s.useState)(!1),M=Object(i.a)(K,2),N=M[0],P=M[1],Q=Object(s.useState)(!1),R=Object(i.a)(Q,2),T=R[0],V=R[1],W=Object(s.useState)("login"),Y=Object(i.a)(W,2),Z=Y[0],$=Y[1],_=Object(s.useState)(!1),nn=Object(i.a)(_,2),en=nn[0],tn=nn[1],rn=function(){var n=Object(u.a)(c.a.mark(function n(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.getItem("categorys");case 2:return(t=n.sent)?t.push(e):t=[e],n.next=6,d.a.setItem("categorys",t);case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),an=function(n){var e=[].concat(Object(r.a)(A),Object(r.a)(n));return G(e),e.length},cn=function(){var n=Object(u.a)(c.a.mark(function n(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,rn(e);case 2:t=an([e]),D(t-1),P(!1);case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),un=function(){var n=Object(u.a)(c.a.mark(function n(e){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e.cards&&l(e.cards);case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),on=function(){var n=Object(u.a)(c.a.mark(function n(){var e;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.getListFromLocal();case 2:(e=n.sent).length>0&&(an(e),D(0));case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),sn=function(){var n=Object(u.a)(c.a.mark(function n(e){var t,r;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=A[e])){n.next=6;break}return n.next=4,h.a.removeLocalByUlid(t.ulid);case 4:(r=n.sent)&&(G(r),D(e-1));case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),fn=function(){var n=Object(u.a)(c.a.mark(function n(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=A[e],h.a.syncCardsByUlid(t.ulid);case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return Object(s.useEffect)(function(){on(),d.a.getItem("token")&&tn(!0)},[]),Object(s.useEffect)(function(){var n=A[X];console.log(n),n&&un(n)},[X]),f.a.createElement(S,null,f.a.createElement(I,{show:j},f.a.createElement(C,null,f.a.createElement(b.g,{categorys:A,selectIndex:X,onSelect:function(n){console.log(n),w(""),D(n)},onDel:sn,onSync:fn})),f.a.createElement(L,null,f.a.createElement(J,{show:T},f.a.createElement(b.i,{onHide:function(){V(!1)},onSuccess:function(){tn(!0)},type:Z})),f.a.createElement(F,null,!T&&f.a.createElement(b.h,{name:"\u641c\u7d22",onClick:function(){e.push("/list")}}),f.a.createElement(H,null,f.a.createElement(b.a,{onClickLogin:function(){$("login"),V(!0)},onClickSignIn:function(){$("signin"),V(!0)},loginStatus:en})))),f.a.createElement(B,null,j?f.a.createElement(b.b,Object.assign({},m,{close:function(){return O(!1)}})):f.a.createElement(b.d,{cards:o,itemClick:function(n){console.log(n),O(!0),w(n)}})),f.a.createElement(U,null,f.a.createElement(J,{show:N},f.a.createElement(b.e,{onSave:cn,onHide:function(){P(!1)}})),f.a.createElement(F,null,f.a.createElement(b.h,{name:"\u65b0\u5efa\u5206\u7c7b",onClick:function(){console.log("\u65b0\u5efa\u5206\u7c7b"),P(!0)}}),f.a.createElement(b.h,{name:"\u65b0\u5efa\u5361\u7247",onClick:function(){var n=A[X];n?e.push({pathname:"editor",state:{category:n.ulid,type:n.type}}):v.a.error("\u8bf7\u5148\u65b0\u5efa\u5206\u7c7b")}})))))}},71:function(n,e,t){"use strict";var r=t(62),a=t.n(r),c=t(63),u=t(65),i=t.n(u),o=t(66);function s(){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark(function n(){var e;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.getItem("categorys");case 2:return e=n.sent,n.abrupt("return",e||[]);case 4:case"end":return n.stop()}},n)}))).apply(this,arguments)}function l(n){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark(function n(e){var t;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.getItem(e);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}},n)}))).apply(this,arguments)}function d(){return(d=Object(c.a)(a.a.mark(function n(e){var t;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l(e);case 2:return t=n.sent,console.log(t),n.abrupt("return",t&&t.cards||[]);case 5:case"end":return n.stop()}},n)}))).apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark(function n(e){var t,r;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s();case 2:if(t=n.sent,!((r=t.findIndex(function(n){return n.ulid===e}))>-1)){n.next=9;break}return t.splice(r,1),n.next=8,i.a.setItem("categorys",t);case 8:return n.abrupt("return",t);case 9:return n.abrupt("return",null);case 10:case"end":return n.stop()}},n)}))).apply(this,arguments)}function h(){return(h=Object(c.a)(a.a.mark(function n(e){var t,r;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s();case 2:if(t=n.sent,!(r=t.find(function(n){return n.ulid===e}))){n.next=8;break}return r.cards=[],n.next=8,i.a.setItem("categorys",t);case 8:case"end":return n.stop()}},n)}))).apply(this,arguments)}function v(n,e,t){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(a.a.mark(function n(e,t,r){var c,u;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=r,r){n.next=5;break}return n.next=4,s();case 4:c=n.sent;case 5:if(!c){n.next=11;break}if(!((u=c.findIndex(function(n){return n.ulid===e}))>-1)){n.next=11;break}return c[u]=t,n.next=11,i.a.setItem("categorys",c);case 11:case"end":return n.stop()}},n)}))).apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark(function n(e){var t,r,c,u,i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s();case 2:if(t=n.sent,!(r=t.find(function(n){return n.ulid===e}))){n.next=15;break}return n.next=7,o.a.syncCategory(r);case 7:return c=n.sent,n.next=10,c.json();case 10:if(u=n.sent,!(i=u.data)){n.next=15;break}return n.next=15,v(e,i,t);case 15:case"end":return n.stop()}},n)}))).apply(this,arguments)}function w(){return(w=Object(c.a)(a.a.mark(function n(e,t){var r,c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s();case 2:if(r=n.sent,!(c=r.find(function(n){return n.ulid===e}))){n.next=10;break}return c.cards.push(t),n.next=8,i.a.setItem("categorys",r);case 8:n.next=11;break;case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}},n)}))).apply(this,arguments)}e.a={getListFromLocal:s,getLocalByUlid:l,getLocalCardsByUlid:function(n){return d.apply(this,arguments)},removeLocalByUlid:function(n){return b.apply(this,arguments)},removeCardsByUlid:function(n){return h.apply(this,arguments)},syncCardsByUlid:function(n){return m.apply(this,arguments)},addCardByUlid:function(n,e){return w.apply(this,arguments)}}}}]);
//# sourceMappingURL=7.5362dc14.chunk.js.map